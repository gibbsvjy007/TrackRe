<ng-include src="'app/templates/header.html'"></ng-include>
<!-- <md-toolbar layout="row" class="md-hue-3 margin-top-56">
    <div class="md-toolbar-tools">
        <span>From To</span>
    </div>
</md-toolbar> -->
<md-content ng-init="initialize()" class="itinerary-content" layout-wrap>
    <md-list class="itinerary-list" flex>
    <md-subheader class="md-sticky">
            <span class="bold">From: </span>
            <span>{{fromTo.from}}</span>
            </br>
            <span class="bold">To: </span>
            <span>{{fromTo.to}}</span>
    </md-subheader>
    <md-divider md-inset></md-divider>
        <md-list-item class="md-3-line" ng-repeat="itinerary in itineraries">
            <div class="md-list-item-text" layout="column">
                <div class="itinerary-main">
                    <div class="timings pull-left">
                        <span class="startTime"> {{ itinerary.startTime | date:"HH:mm"}}</span>
                        <span class="dash"> - </span>
                        <span class="endTime"> {{ itinerary.endTime | date:"HH:mm" }}</span>
                    </div>
                    <div class="metadata pull-right">
                        <span class="price">
                            <i class="icon fa fa-eur"></i>
                            <span class="amount"> 2.60 </span>
                        </span>
                        <span class="duration">
                            <span class="value"> {{ itinerary.duration/60 | number: 0 }}</span>
                            <span class="unit"> min </span>
                        </span>
                    </div>
                </div>
                <div class="itinerary-summary clearfix" style="position: relative;">
                    <ul class="ul-itinerary">
                        <!-- ngRepeat: leg in itinerary.legs -->
                        <li class="leg" ng-repeat="leg in itinerary.legs">
                            <div class="legInfoBox pull-left">
                                <div class="iconBox">
                                    <div ng-show="leg.mode == 'WALK'">
                                        <i class="walk material-icons font-18">directions_walk</i>
                                    </div>
                                    <div ng-show="leg.mode == 'BUS'">
                                        <i class="bus fa fa-bus font-20"></i>
                                    </div>
                                    <div ng-show="leg.mode == 'TRAM'">
                                        <i class="tram fa fa-subway font-20"></i>
                                    </div>
                                    <div ng-show="leg.mode == 'RAIL'">
                                        <i class="rail fa fa-train font-20"></i>
                                    </div>
                                </div>
                                <div class="infoBox">
                                    <div ng-show="leg.mode == 'WALK'">
                                        <span class="legName small">walk</span>
                                    </div>
                                    <div ng-hide="leg.mode == 'WALK'">
                                        <span class="legName small"> {{leg.route}} </span>
                                    </div>
                                    <div class="legDuration small font-10"> {{leg.duration / 60 | number:0}} min </div>
                                </div>
                            </div>
                            <div class="nextIconBox pull-left" ng-hide="$last">
                                <span class="icon"> â€º </span>
                            </div>
                        </li>
                        <!-- end ngRepeat: leg in itinerary.legs -->
                    </ul>
                    <div class="pull-right button-block">
                        <md-button ng-click="showNextInfoWindow($event, itinerary.ID,itinerary.legs.length);" md-no-ink class="md-primary btn-steps">STEPS</md-button>
                        <md-button class="md-warn btn-details" ng-click="showItineraryDetails($event,itinerary.ID);$event.stopPropagation();">DETAILS</md-button>
                    </div>
                </div>
                <section class="itinerary-detail" >
                    <ng-include src="'app/templates/itinerary-detail.html'"></ng-include>                    
                </section>
            </div>
        </md-list-item>
    </md-list>
</md-content>
